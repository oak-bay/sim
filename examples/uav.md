# 无人机


## 无人机的状态

无人机内部通过状态机来实现.

* 无人机根据当前状态执行不同动作；
* 无人机根据外部环境/自身状态，确定下一时刻的状态.
  

无人机包括以下状态：

* 启动状态（start）: 飞机加电，准备按照航路飞行.
* 飞行状态（fly）: 飞机按照航路飞行.
* 返回状态（return）: 在遇到故障时，飞机返回出发点.
* 悬停状态（hover）: 在状态转换之间，飞机保持一定事件悬停状态.
* 结束状态（over）: 飞机完成航路，或者其他情况下，结束飞行.

触发状态机转换的事件包括：

* （C0）电池耗尽
* （C1）测控链路受到干扰
* （C2）GPS受到干扰（无位置输出）
* （C3）航路飞行完毕.
* （C4）机体损坏

状态转换矩阵如下：

|            |  start   |  fly  | return |  hover   |   over   |
| :--------: | :------: | :---: | :----: | :------: | :------: |
| **start**  | C1 or C2 | other |        |          | C0 or C4 |
|  **fly**   |          |       |        | C1 or C2 | C0 or C4 |
| **return** |          |       |        |          |          |
| **hover**  |          |       |        |          | C0 or C4 |
|  **over**  |          |       |        |          |          |


